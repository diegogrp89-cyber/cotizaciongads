<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Cotización - GAD’s Trabajos Verticales</title>

<style>
body { font-family: Arial, sans-serif; background:#f4f6f8; padding:20px; }

.card { max-width:800px; margin:auto; background:#fff; padding:25px; border-radius:10px; }
h2,h3 { margin:5px 0; }

input, select { width:100%; padding:8px; margin-top:5px; }

button {
  margin-top:15px; padding:12px; width:100%;
  background:#27ae60; color:#fff; border:none; border-radius:5px;
  font-size:16px; cursor:pointer;
}

.table { width:100%; border-collapse:collapse; margin-top:15px; }
.table th, .table td { border:1px solid #ccc; padding:8px; text-align:left; }
.table th { background:#ecf0f1; }

#formulario { display:block; }
#documento { display:none; }

/* SOLO PDF */
@media print {
  body { background:#fff; }
  #formulario { display:none; }
  #documento { display:block; }
}
</style>
</head>

<body>

<!-- VISTA CALCULADORA -->
<div class="card" id="formulario">
  <h2>Calculadora de Cotización</h2>

  <label>Cliente</label><input id="cliente">
  <label>Dirección</label><input id="direccion">

  <label>m²</label><input id="m2" type="number">
  <label>Precio por m²</label><input id="precio" value="9">
  <label>Días</label><input id="dias" value="1">
  <label>Técnicos</label><input id="tecnicos" value="2">

  <label>Altura</label>
  <select id="altura">
    <option value="0">No</option>
    <option value="0.10">+10%</option>
    <option value="0.20">+20%</option>
  </select>

  <label><input type="checkbox" id="sucio"> Vidrio contaminado</label>
  <label><input type="checkbox" id="nocturno"> Trabajo nocturno</label>
  <label><input type="checkbox" id="igv"> Incluir IGV</label>

  <button onclick="calcular()">Calcular</button>
  <button onclick="window.print()">Generar PDF</button>
</div>

<!-- DOCUMENTO FORMAL -->
<div class="card" id="documento">
  <img src="logo.png" height="70"><br>
  <h2>GAD’s Trabajos Verticales</h2>
  <small>Limpieza de fachadas y trabajos en altura</small>

  <hr>

  <p><b>Cliente:</b> <span id="dCliente"></span></p>
  <p><b>Dirección:</b> <span id="dDireccion"></span></p>
  <p><b>Fecha:</b> <span id="fecha"></span></p>

  <table class="table">
    <tr><th>Concepto</th><th>Monto (S/)</th></tr>
    <tr><td>Costo base</td><td id="cBase"></td></tr>
    <tr><td>Recargos</td><td id="cRecargos"></td></tr>
    <tr><td>Equipos</td><td id="cEquipo"></td></tr>
    <tr><td>Pasajes</td><td id="cPasajes"></td></tr>
    <tr><th>Subtotal</th><th id="cSubtotal"></th></tr>
    <tr><td>IGV</td><td id="cIGV"></td></tr>
    <tr><th>TOTAL</th><th id="cTotal"></th></tr>
  </table>

  <p><b>Observaciones:</b><br>
  • Trabajo con acceso por cuerda<br>
  • Personal especializado<br>
  • Equipos certificados</p>

  <p style="margin-top:50px">
    ___________________________<br>
    GAD’s Trabajos Verticales
  </p>
</div>

<script>
function calcular(){
  let m2 = +m2Input.value, p = +precio.value, d = +dias.value, t = +tecnicos.value;
  let base = m2*p*3, eq = d*100, pas = t*30;
  let rec = base*(+altura.value) + (sucio.checked?base*0.15:0) + (nocturno.checked?base*0.25:0);
  let sub = base+eq+pas+rec, ig = igv.checked?sub*0.18:0, tot = sub+ig;

  dCliente.textContent = cliente.value;
  dDireccion.textContent = direccion.value;
  fecha.textContent = new Date().toLocaleDateString();

  cBase.textContent = base.toFixed(2);
  cRecargos.textContent = rec.toFixed(2);
  cEquipo.textContent = eq.toFixed(2);
  cPasajes.textContent = pas.toFixed(2);
  cSubtotal.textContent = sub.toFixed(2);
  cIGV.textContent = ig.toFixed(2);
  cTotal.textContent = tot.toFixed(2);
}

const cliente=document.getElementById("cliente"),
direccion=document.getElementById("direccion"),
m2Input=document.getElementById("m2"),
precio=document.getElementById("precio"),
dias=document.getElementById("dias"),
tecnicos=document.getElementById("tecnicos"),
altura=document.getElementById("altura"),
sucio=document.getElementById("sucio"),
nocturno=document.getElementById("nocturno"),
igv=document.getElementById("igv");
</script>

</body>
</html>
